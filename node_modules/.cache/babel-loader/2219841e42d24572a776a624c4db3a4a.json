{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/Projects/groovio-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/groovio-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Projects/groovio-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import axios from'axios';import Cookies from\"universal-cookie\";import\"./Profile.scss\";var cookies=new Cookies();var Profile=function Profile(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),profilePicture=_useState2[0],setProfilePicture=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),displayName=_useState4[0],setDisplayName=_useState4[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/fetchData');case 2:request=_context.sent;_context.next=5;return request.data;case 5:response=_context.sent;setProfilePicture(response.images[0].url);setDisplayName(response.display_name);case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){cookies.get(\"accessToken\")&&fetchData();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"Profile\",children:!cookies.get(\"accessToken\")?/*#__PURE__*/_jsx(\"button\",{className:\"Profile__login-btn\",onClick:function onClick(){return window.location=\"\".concat(window.location.href,\"login\");},children:\"Login with Spotify\"}):/*#__PURE__*/_jsxs(\"button\",{className:\"Profile__banner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Profile__picture-box\",children:/*#__PURE__*/_jsx(\"img\",{src:profilePicture,alt:\"Profile\",className:\"Profile__picture\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Profile__display-name-box\",children:/*#__PURE__*/_jsx(\"span\",{className:\"Profile__display-name\",children:displayName})})]})});};export default Profile;","map":{"version":3,"sources":["D:/Projects/groovio-player/src/components/Profile/Profile.jsx"],"names":["React","useEffect","useState","axios","Cookies","cookies","Profile","profilePicture","setProfilePicture","displayName","setDisplayName","fetchData","get","request","data","response","images","url","display_name","window","location","href"],"mappings":"wgBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CAEA,MAAO,gBAAP,CAEA,GAAMC,CAAAA,OAAO,CAAG,GAAID,CAAAA,OAAJ,EAAhB,CAEA,GAAME,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,eAC0BJ,QAAQ,CAAC,EAAD,CADlC,wCACXK,cADW,eACKC,iBADL,8BAEoBN,QAAQ,CAAC,EAAD,CAF5B,yCAEXO,WAFW,eAEEC,cAFF,eAIlB,GAAMC,CAAAA,SAAS,0FAAG,8KACQR,CAAAA,KAAK,CAACS,GAAN,CAAU,YAAV,CADR,QACRC,OADQ,qCAESA,CAAAA,OAAO,CAACC,IAFjB,QAERC,QAFQ,eAIdP,iBAAiB,CAACO,QAAQ,CAACC,MAAT,CAAgB,CAAhB,EAAmBC,GAApB,CAAjB,CACAP,cAAc,CAACK,QAAQ,CAACG,YAAV,CAAd,CALc,sDAAH,kBAATP,CAAAA,SAAS,0CAAf,CAQAV,SAAS,CAAC,UAAM,CACZI,OAAO,CAACO,GAAR,CAAY,aAAZ,GAA8BD,SAAS,EAAvC,CACH,CAFQ,CAEP,EAFO,CAAT,CAIA,mBACI,YAAK,SAAS,CAAC,SAAf,UACK,CAACN,OAAO,CAACO,GAAR,CAAY,aAAZ,CAAD,cACG,eACI,SAAS,CAAC,oBADd,CAEI,OAAO,CAAE,yBAAOO,CAAAA,MAAM,CAACC,QAAP,WAAqBD,MAAM,CAACC,QAAP,CAAgBC,IAArC,SAAP,EAFb,gCADH,cAQG,gBAAQ,SAAS,CAAC,iBAAlB,wBACI,YAAK,SAAS,CAAC,sBAAf,uBACI,YAAK,GAAG,CAAEd,cAAV,CAA0B,GAAG,CAAC,SAA9B,CAAwC,SAAS,CAAC,kBAAlD,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,2BAAf,uBACI,aAAM,SAAS,CAAC,uBAAhB,UAAyCE,WAAzC,EADJ,EAJJ,GATR,EADJ,CAqBH,CArCD,CAuCA,cAAeH,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\nimport Cookies from \"universal-cookie\";\r\n\r\nimport \"./Profile.scss\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nconst Profile = () => {\r\n    const [profilePicture, setProfilePicture] = useState('');\r\n    const [displayName, setDisplayName] = useState('');\r\n\r\n    const fetchData = async () => {\r\n        const request = await axios.get('/fetchData');\r\n        const response = await request.data;\r\n\r\n        setProfilePicture(response.images[0].url);\r\n        setDisplayName(response.display_name);\r\n    }\r\n\r\n    useEffect(() => {\r\n        cookies.get(\"accessToken\") && fetchData();\r\n    },[]);\r\n\r\n    return (\r\n        <div className=\"Profile\">\r\n            {!cookies.get(\"accessToken\") ? (\r\n                <button\r\n                    className=\"Profile__login-btn\"\r\n                    onClick={() => (window.location = `${window.location.href}login`)}\r\n                >\r\n                    Login with Spotify\r\n                </button>\r\n            ) : (\r\n                <button className=\"Profile__banner\">\r\n                    <div className=\"Profile__picture-box\">\r\n                        <img src={profilePicture} alt=\"Profile\" className=\"Profile__picture\" />\r\n                    </div>\r\n                    <div className=\"Profile__display-name-box\">\r\n                        <span className=\"Profile__display-name\">{displayName}</span>\r\n                    </div>\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}